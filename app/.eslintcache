[{"/Users/maximilianresch/Documents/recipe-app/app/src/index.js":"1","/Users/maximilianresch/Documents/recipe-app/app/src/App.js":"2","/Users/maximilianresch/Documents/recipe-app/app/src/reportWebVitals.js":"3","/Users/maximilianresch/Documents/recipe-app/app/src/pages/Login.js":"4","/Users/maximilianresch/Documents/recipe-app/app/src/pages/Register.js":"5","/Users/maximilianresch/Documents/recipe-app/app/src/pages/RecipeForm.js":"6","/Users/maximilianresch/Documents/recipe-app/app/src/pages/Home.js":"7","/Users/maximilianresch/Documents/recipe-app/app/src/utils/auth.js":"8","/Users/maximilianresch/Documents/recipe-app/app/src/components/Footer.js":"9","/Users/maximilianresch/Documents/recipe-app/app/src/utils/recipeApi.js":"10","/Users/maximilianresch/Documents/recipe-app/app/src/globalState.js":"11","/Users/maximilianresch/Documents/recipe-app/app/src/pages/Profile.js":"12"},{"size":574,"mtime":1608283160123,"results":"13","hashOfConfig":"14"},{"size":2311,"mtime":1608657971170,"results":"15","hashOfConfig":"14"},{"size":362,"mtime":1607354524054,"results":"16","hashOfConfig":"14"},{"size":2122,"mtime":1608656248137,"results":"17","hashOfConfig":"14"},{"size":3370,"mtime":1608656425201,"results":"18","hashOfConfig":"14"},{"size":6413,"mtime":1608209462932,"results":"19","hashOfConfig":"14"},{"size":808,"mtime":1608283177786,"results":"20","hashOfConfig":"14"},{"size":270,"mtime":1608030108036,"results":"21","hashOfConfig":"14"},{"size":618,"mtime":1608041783500,"results":"22","hashOfConfig":"14"},{"size":213,"mtime":1608217760443,"results":"23","hashOfConfig":"14"},{"size":117,"mtime":1608283149876,"results":"24","hashOfConfig":"14"},{"size":115,"mtime":1608656718861,"results":"25","hashOfConfig":"14"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},"1n35ik",{"filePath":"29","messages":"30","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37","usedDeprecatedRules":"28"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},"/Users/maximilianresch/Documents/recipe-app/app/src/index.js",[],["52","53"],"/Users/maximilianresch/Documents/recipe-app/app/src/App.js",["54","55"],"/Users/maximilianresch/Documents/recipe-app/app/src/reportWebVitals.js",[],"/Users/maximilianresch/Documents/recipe-app/app/src/pages/Login.js",[],"/Users/maximilianresch/Documents/recipe-app/app/src/pages/Register.js",["56"],"import React from \"react\";\nimport style from \"./style.module.css\";\n\nimport axios from \"axios\";\nimport * as auth from \"../utils/auth\";\n\nimport TextField from \"@material-ui/core/TextField\";\nimport * as yup from \"yup\";\nimport { useState } from \"react\";\nimport { useHistory} from 'react-router-dom';\nimport { Box } from \"@material-ui/core\";\nimport { useRecoilState } from 'recoil'\nimport { userState } from '../globalState';\n\n\nlet schema = yup.object().shape({\n  firstname: yup.string().required(),\n  lastname: yup.string().required(),\n  email: yup.string().email().required(),\n  password: yup.string().required(),\n});\n\nexport default function Register() {\n  const [firstname, setFirstname] = useState(\"\");\n  const [lastname, setLastname] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState(\"\");\n\n  const [user, setUser] = useRecoilState(userState);\n\n  const router = useHistory();\n\n  const onSubmit = async () => {\n    const newRegister = { firstname, lastname, email, password };\n\n    const valid = await schema.validate(newRegister).catch((e) => {\n      const errorMessage = e.errors;\n      setErrorMessage(errorMessage);\n\n      console.log(\"error\", errorMessage);\n    });\n\n    if (!valid) {\n      return;\n    }\n\n    console.log(\"Register\", {\n      firstname,\n      lastname,\n      email,\n      password,\n    });\n    setErrorMessage(\"\");\n\n    const data = {\n      firstname,\n      lastname,\n      email,\n      password,\n    };\n\n   \n    const response = await axios.post(\n      \"http://localhost:4000/register\",\n      data\n    );\n\n    if (response.data.success) {\n      auth.getUserToken(response.data.token);\n      router.push('/me')\n    } else {\n      setErrorMessage(\"E-mail is already in use\")\n    }\n\n    console.log(\"response\", response);\n  };\n\n  const handleKeypress = (e) => {\n    if (e.which === 13) {\n      onSubmit();\n    }\n  };\n\n\n\n  return (\n    <div>\n      <form className={style.form} action=\"/register\" method=\"POST\">\n        {user && <p>hallo, {user.firstname}</p>}\n        <h1>Register</h1>\n        <Box display=\"flex\" flexDirection=\"row\" gridGap=\"5px\">\n          <TextField\n            variant=\"outlined\"\n            label=\"firstname\"\n            onKeyPress={handleKeypress}\n            onChange={(e) => {\n              setFirstname(e.target.value);\n            }}\n          ></TextField>\n          <TextField\n            variant=\"outlined\"\n            label=\"lastname\"\n            onKeyPress={handleKeypress}\n            onChange={(e) => {\n              setLastname(e.target.value);\n            }}\n          ></TextField>\n        </Box>\n        <Box mt=\"3\">\n          <TextField\n            variant=\"outlined\"\n            label=\"email\"\n            type=\"email\"\n            onKeyPress={handleKeypress}\n            onChange={(e) => {\n              setEmail(e.target.value);\n            }}\n          ></TextField>\n        </Box>\n        <TextField\n          variant=\"outlined\"\n          label=\"password\"\n          type=\"password\"\n          onKeyPress={handleKeypress}\n          onChange={(e) => {\n            setPassword(e.target.value);\n          }}\n        ></TextField>\n\n        <div style={{ color: \"red\" }}>{errorMessage}</div>\n        <button type=\"button\" onClick={onSubmit}>\n          Register\n        </button>\n      </form>\n    </div>\n  );\n}\n","/Users/maximilianresch/Documents/recipe-app/app/src/pages/RecipeForm.js",[],"/Users/maximilianresch/Documents/recipe-app/app/src/pages/Home.js",[],"/Users/maximilianresch/Documents/recipe-app/app/src/utils/auth.js",[],"/Users/maximilianresch/Documents/recipe-app/app/src/components/Footer.js",[],"/Users/maximilianresch/Documents/recipe-app/app/src/utils/recipeApi.js",[],"/Users/maximilianresch/Documents/recipe-app/app/src/globalState.js",[],"/Users/maximilianresch/Documents/recipe-app/app/src/pages/Profile.js",[],{"ruleId":"57","replacedBy":"58"},{"ruleId":"59","replacedBy":"60"},{"ruleId":"61","severity":1,"message":"62","line":24,"column":9,"nodeType":"63","messageId":"64","endLine":24,"endColumn":15},{"ruleId":"65","severity":1,"message":"66","line":31,"column":6,"nodeType":"67","endLine":31,"endColumn":8,"suggestions":"68"},{"ruleId":"61","severity":1,"message":"69","line":30,"column":16,"nodeType":"63","messageId":"64","endLine":30,"endColumn":23},"no-native-reassign",["70"],"no-negated-in-lhs",["71"],"no-unused-vars","'router' is assigned a value but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'setUser'. Either include it or remove the dependency array.","ArrayExpression",["72"],"'setUser' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"73","fix":"74"},"Update the dependencies array to be: [setUser]",{"range":"75","text":"76"},[878,880],"[setUser]"]